{% extends 'tasks/base.html' %}
{% block title %}Create Account — TaskFlow{% endblock %}

{% block content %}
<div class="auth-wrap">
    <div>
        <div style="text-align:center;margin-bottom:2rem" class="fade-up">
            <span style="font-family:'DM Serif Display',serif;font-size:1.8rem;color:var(--text-primary)">
                Task<span style="color:var(--accent)">Flow</span>
            </span>
        </div>

        <div class="auth-card fade-up" style="max-width:460px">
            <h2 class="auth-title">Create account</h2>
            <p class="auth-sub">Get started — it's free</p>

            <form method="post" novalidate>
                {% csrf_token %}

                <div class="mb-3">
                    <label class="form-label" for="{{ form.username.id_for_label }}">Username</label>
                    {{ form.username }}
                    {% if form.username.errors %}
                    <div style="color:var(--red);font-size:0.78rem;margin-top:0.3rem">{{ form.username.errors.0 }}</div>
                    {% endif %}
                </div>

                <div class="mb-3">
                    <label class="form-label" for="{{ form.email.id_for_label }}">Email</label>
                    {{ form.email }}
                    {% if form.email.errors %}
                    <div style="color:var(--red);font-size:0.78rem;margin-top:0.3rem">{{ form.email.errors.0 }}</div>
                    {% endif %}
                </div>

                <div class="mb-3">
                    <label class="form-label" for="{{ form.password1.id_for_label }}">Password</label>
                    {{ form.password1 }}
                    {% if form.password1.errors %}
                    <div style="color:var(--red);font-size:0.78rem;margin-top:0.3rem">{{ form.password1.errors.0 }}
                    </div>
                    {% endif %}
                </div>

                <div class="mb-4">
                    <label class="form-label" for="{{ form.password2.id_for_label }}">Confirm Password</label>
                    {{ form.password2 }}
                    {% if form.password2.errors %}
                    <div style="color:var(--red);font-size:0.78rem;margin-top:0.3rem">{{ form.password2.errors.0 }}
                    </div>
                    {% endif %}
                </div>

                {% if form.non_field_errors %}
                <div
                    style="color:var(--red);font-size:0.83rem;margin-bottom:1rem;padding:0.6rem 0.8rem;background:var(--red-bg);border-radius:7px">
                    {{ form.non_field_errors.0 }}
                </div>
                {% endif %}

                <button type="submit" class="btn-accent w-100 justify-content-center" style="padding:0.65rem">
                    Create Account <i class="bi bi-arrow-right"></i>
                </button>
            </form>

            <div class="auth-divider">or</div>

            <div style="text-align:center">
                <span style="color:var(--text-muted);font-size:0.83rem">Already have an account? </span>
                <a href="{% url 'login' %}"
                    style="color:var(--accent);font-size:0.83rem;text-decoration:none;font-weight:500">Sign in →</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}